### 5 更新OpenFOAM-6源安装
#### 5.1 动机
OpenFOAM-6是一种滚动的点发行版本，即版本号保持不变，但偶尔会有补丁程序发行版。根据OpenFOAM基金会：

版本6是OpenFOAM开发版本的快照，通过可持续更新，该版本始终是可发布状态。它对可用性、健壮性和可扩展性提出了严格的要求，它为现有代码提供了新功能和重大改进。

OpenFOAM-6的初始安装遵循所有其他源安装步骤。但是，在发布后续修补程序版本时OpenFOAM-6的安装、功能和错误与当前的OpenFOAM-6来源不相同。

在过去，我们本来会拥有OpenFOAM-X.Y ++。 但是，由于OpenFOAM-6就是OpenFOAM-6（不是OpenFOAM-612），因此我们需要一种方法来正确更新OpenFOAM-6的源代码包安装。
#### 5.2 使OpenFOAM-6源包能够被更新
由于OpenFOAM-6源包是OpenFOAM-6 git存储库的快照，因此更新源包非常容易。基本步骤是：
1. 使用git init初始化源包中的新git仓库
2. 使用git remote将新创建的git仓库的remote-URL指向OpenFOAM-6的远程仓库
3. 使用git pull下载更新
4. 最后使用git checkout更新源包的本地状态
另外，我们可以简单地删除当前安装的OpenFOAM-6，下载最新的源包并重新安装。但是，这是更新我们的OpenFOAM-6的不太优雅的蛮力方法。行家们，请继续读下去，看看如何优雅的更新。
##### 5.2.1 初始化
使用git init，我们告诉git创建一个新的git仓库。如果我们在已经存在文件的目录中运行此命令，则不会更改任何文件。

运行git init后，我们发现创建了一个新文件夹：.git。文件.gitignore已成为源包的一部分。
##### 5.2.2 指向远程仓库
接下来，我们需要告诉git在哪里可以找到更新。 我们通过调用git remote添加git源包git@github：OpenFOAM来做到这一点
##### 5.2.3 拉取更新
之后，我们的仓库已被告知，从何处获取更新，是时候下载它们了。这是通过git pull完成的。
##### 5.2.4 更新本地仓库
之后，将更新下载到我们的仓库中，我们需要更新仓库的本地工作文件。目前，更新已在本地显示，但工作文件（可通过文本编辑器打开和阅读的文件）尚未更新。通过运行git checkout -t -f -b master origin/master应用刚刚下载的更改来更新本地工作文件。

现在，checkout命令将对远程master分支所做的所有更改应用于我们的本地master分支。至此，所有本地文件都已更新，我们可以重新编译源文件。

请注意，我们需要以与更新OpenFOAM源代码目录相同的方式更新第三方源代码目录。
#### 5.3 重新编译源包
从源代码更新任何安装的最后一步是重新编译源代码。 可以通过运行方便地完成此操作
```
./ Allwmake - update
```
列表 17: 重新编译更新的源包