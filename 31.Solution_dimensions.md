31 Solution dimensions

In OpenFOAM all meshes are three-dimensional, yet with a single-cell discretisation and a proper assignment of
empty- or wedge-type boundary conditions, a simulation may have 0, 1, 2 or 3 solution dimensions, or solution
directions as they are referred to by OpenFOAM’s checkMesh tool.
Checking geometry ...
Overall domain bounding box (0 -0.1 0) (0.07 0.11 0.001)
Mesh has 2 geometric (non - empty / wedge ) directions (1 1 0)
Mesh has 2 solution (non - empty ) directions (1 1 0)
All edges aligned with or perpendicular to non - empty directions .
Listing 183: A snippet of the output of checkMesh.

0-D simulations

In a 0-D simulation, the mesh consists of only a single cell, and all PDEs simplify into ODEs with time as the
independent variable. This may seem too strong of a simplification, yet 0-D simulations may be useful to test
the temporal development of certain models.
The OpenQBMM project77 uses a 0-D solver to test their population balance model78. In a 0-D domain,
only sources and sinks can change the value of a field, as convection is ruled out.

1-D simulations

A 1-D simulation is resolved, respectively discretised, in only one spatial direction. This is a valid simplification
for simulations when the axial flow dominates any lateral flow, e.g. very long pipelines. In the OpenFOAM
tutorials, e.g. the shockTube tutorial case is a 1-D simulation.

2-D simulations

Many tutorials of OpenFOAM are 2-D cases, as they are detailled enough to represent realistic flow, yet they
are simple enough to finish in a finite amount of time. 2-D simulations can be planar 2-D cases, e.g. a narrow
channel, which is much greater in depth than it is in length and height; or axi-symmetric, e.g. a slice of a
domain, which features rotational symmetry. The cavity tutorial case is an example of a planar 2-D simulation;
and the movingCone case is an example of an axi-symmetric simulation case in the OpenFOAM tutorials.

3-D simulations

Full 3-D simulation feature no empty- or wedge-type patches.

31.1 Basic rules for simulations with reduced solution dimensions

An empty- or wedge-type boundary needs to be planar

One consequence of this rule is, that the two wedge-type patches need to be separate patches

There can’t be a single wedge-type patch

Such a patch, consisting of both sides of the slice, would be non-planar, as the patch-mean normal-direction
will be different from each face’s normal-direction.

An empty-type boundary needs to be parallel to a coordinate plane

Listing 184 shows the output of checkMesh, after we rotated the mesh of the cavity tutorial case. Initially, the
empty boundary is parallel to the x-y plane. However, after we rotated the mesh using transformPoints, the
empty boundary normal direction is (1, 1, 1). This, results in checkMesh reporting 0 solution directions. When
we try to run the case, icoFoam fails with a rather obscure error message.
```
Checking geometry ...
Overall domain bounding box ( -0.0211325 -0.0211325 -0.11547) (0.084641 0.084641 0.0057735)
Mesh has 0 geometric (non - empty / wedge ) directions (0 0 0)
Mesh has 0 solution (non - empty ) directions (0 0 0)
*** Number of edges not aligned with or perpendicular to non - empty directions : 2121
<< Writing 882 points on non - aligned edges to set nonAlignedEdges
```
Listing 184: The output of checkMesh after we applied a rotation from (0, 0, 1) to (1, 1, 1) to the simulation
domain of the cavity tutorial.
```
--> FOAM FATAL ERROR :
Continuity error cannot be removed by adjusting the outflow .
Please check the velocity boundary conditions and /or run potentialFoam to initialise the
outflow .
Total flux : 2.22507e -308
Specified mass inflow : 0.000211325
Specified mass outflow : 0
Adjustable mass outflow : 0
From function bool Foam :: adjustPhi ( Foam :: surfaceScalarField &, const volVectorField &, Foam
:: volScalarField &)
in file cfdTools / general / adjustPhi / adjustPhi .C at line 107.
FOAM exiting
```
Listing 185: The output of icoFoam after we applied a rotation from (0, 0, 1) to (1, 1, 1) to the simulation domain
of the cavity tutorial.

A wedge-type boundary mustn’t be parallel to a coordinate plane

The mesh of an axi-symmetric simulation is a discretised slice of the geometry, with a single cell in circumferential
direction. This slice is supposed to straddle a coordinate plane. If one of the wedge-type patches is
parallel to a coordinate plane, then OpenFOAM issues an error message, similar to the one shown in Listing 186.
```
--> FOAM FATAL ERROR :
wedge back plane aligns with a coordinate plane .
The wedge plane should make a small angle (2.5 deg ) with the coordinate plane
and the pair of wedge planes should be symmetric about the coordinate plane .
Normal of wedge plane is (6.451349e -20 1 5.042482e -20) , implied coordinate plane
direction is (0 1 0)
From function virtual void Foam :: wedgePolyPatch :: calcGeometry ( Foam :: PstreamBuffers &)
in file meshes / polyMesh / polyPatches / constraint / wedge / wedgePolyPatch .C at line 110.
FOAM exiting
```
Listing 186: The output of checkMesh when a wedge-type patch is parallel to a coordinate plane.